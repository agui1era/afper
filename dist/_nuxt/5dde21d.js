(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{319:function(e,t,o){"use strict";var r={props:["steps","active"]},n=o(9),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:"form-progress items-"+e.steps},[e._l(e.steps,(function(t){return[o("div",{key:t,staticClass:"form-progress-indicator",class:t==e.active?" p-active":t<e.active?"p-after":""},[o("span",[o("strong",[e._v(e._s(t))])])]),e._v(" "),t!=e.steps?o("div",{key:t,staticClass:"form-progress-bar",class:t<e.active?"p-after":""}):e._e()]}))],2)}),[],!1,null,null,null);t.a=component.exports},351:function(e,t,o){"use strict";var r=o(5),n=o(159)(5),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),r(r.P+r.F*c,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(111)("find")},404:function(e){e.exports=JSON.parse('{"proveedor_servicio":"Servicio de información entregado por","nombre_proveedor_servicio":"Instituto de Previsión Social","titulo":"Solicitud Subsidio al Trabajador Joven - Cotización","descripcion":"","Subtitulo_h2":"Formulario","subtitulo_h3_1":"Antecedentes laborales y previsionales","subtitulo_h3_2":"Empleador para el cual presta servicios","checkbox1_text":"Tomo conocimiento que el Subsidio al Trabajador Joven – Cotización es incompatible con la cotización del Seguro de Invalidez y Sobrevivencia (SIS), por lo que si decido postular al beneficio será de mi cargo el pago de este seguro.*","checkbox2_text":"Tomo conocimiento que el pago del subsidio será suspendido en los meses en que la suma de mis remuneraciones supere los 1,5 ingresos mínimos mensuales, pudiendo incrementarse hasta 2 ingresos mínimos mensuales sólo a contar del 13vo subsidio percibido.*","lbl_restriccion":"Los campos marcados con * son obligatorios","msg_error_datos_contacto":"Debe completar los campos obligatorios de su información de contacto","msg_error_afp":"Debe seleccionar la AFP a la cual se encuentra afiliado","msg_error_salud":"Debe seleccionar el régimen de salud al cual se encuentra afiliado","msg_error_mutual":"Debe seleccionar la Mutual a la cual se encuentra afiliado","msg_error_empleadores":"Debe ingresar al menos un empleador para el cual presta servicios","msg_toma_conocimiento":"Debe indicar que ha tomado conocimiento sobre la información proporcionada al pie del formulario"}')},405:function(e,t,o){"use strict";o.r(t);o(18);var r=o(2),n=o(319),c=o(539),l={name:"StepThree",data:function(){return{iConfig:c}},components:{ProgressBar:n.a},computed:{resumenSolicitud:function(){return this.$store.state.resumenSolicitud},estadoSolicitud:function(){return 3===this.resumenSolicitud.estadoSolicitud?this.iConfig.estado_solicitud_3:9===this.resumenSolicitud.estadoSolicitud?this.iConfig.estado_solicitud_9:this.iConfig.estado_solicitud_1y2}},methods:{formatFecha:function(e){var t=new Date(1e3*e),o=t.getFullYear(),r=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1;return t.getDate()+1+"-"+r+"-"+o},descargarPdf:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return"/mocks/5220/pdfResumenSolicitud/",o.next=3,t.$axios({url:"/mocks/5220/pdfResumenSolicitud/"+e+".json",method:"GET"}).then((function(e){"200"==e.status&&("No token"==e.data?t.error_sesion():window.open(e.data.urlPdf))})).catch((function(e){e.response&&(console.log(e.response),403==e.response.status?t.error_sesion():t.error_response("Error al cargar datos de la persona"))}));case 3:case"end":return o.stop()}}),o)})))()},irFicha:function(){window.location=this.iConfig.url_ficha}}},d=o(9),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("div",{staticClass:"container form-cha"},[o("header",[o("h4",[e._v("\n        "+e._s(e.iConfig.proveedor_servicio)+"\n        "),o("a",{staticClass:"link",attrs:{href:"https://www.chileatiende.gob.cl/instituciones/AL005",title:"Institución asociada"}},[e._v(e._s(e.iConfig.nombre_proveedor_servicio))])]),e._v(" "),o("h1",[e._v(e._s(e.iConfig.titulo))]),e._v(" "),3!==this.resumenSolicitud.estadoSolicitud&&9!==this.resumenSolicitud.estadoSolicitud?o("Progress-bar",{attrs:{steps:3,active:3}}):e._e()],1),e._v(" "),o("section",{attrs:{id:"respuesta"}},[o("header",[o("h2",[e._v(e._s(e.iConfig.subtitulo_h2))])]),e._v(" "),o("table",{staticClass:"msg msg-info msg-2col"},[o("tr",[e._m(0),e._v(" "),o("td",[o("p",[e._v("\n              "+e._s(e.iConfig.p)+"\n              "),o("strong",[e._v(e._s(e.iConfig.strong)+".")])])])])]),e._v(" "),o("div",{staticClass:"contenido-form"},[o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v(" Número de solicitud")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.resumenSolicitud.idSolicitud))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v(" Fecha de ingreso")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.formatFecha(e.resumenSolicitud.fechaIngreso)))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v(" Tipo de solicitud")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.iConfig.tipo_solicitud))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v(" Estado actual")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.estadoSolicitud))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v(" Fecha de resolución")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.formatFecha(e.resumenSolicitud.fechaResolucion)))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v(" Archivo digital")]),e._v(" "),o("span",[o("strong",[o("a",{staticClass:"link",attrs:{title:"Descargar PDF"},on:{click:function(t){return e.descargarPdf(e.resumenSolicitud.idSolicitud)}}},[e._v("DescargarPDF")])])])])]),e._v(" "),o("br"),e._v(" "),o("div",{staticClass:"field cont-btn"},[3===this.resumenSolicitud.estadoSolicitud?o("b-button",{attrs:{type:"is-primary"}},[e._v("Ver cartola")]):e._e(),e._v(" "),o("b-button",{attrs:{type:"is-default"},on:{click:function(t){return e.irFicha()}}},[e._v("Volver a la ficha")])],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("span",{staticClass:"msg-icono color-alerta"},[t("i",{staticClass:"fas fa-info-circle"})])])}],!1,null,null,null);t.default=component.exports},406:function(e,t,o){"use strict";o.r(t);o(22),o(36),o(21),o(38),o(37),o(29),o(27),o(28),o(14),o(157),o(156),o(81),o(351),o(18);var r=o(2),n=o(538);function c(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,d=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){d=!0,n=e},f:function(){try{c||null==o.return||o.return()}finally{if(d)throw n}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}var d={name:"StepTwo",data:function(){return{iConfig:n,payload:null}},computed:{datosPersona:function(){return this.$store.state.persona},datosEmpleadores:function(){return this.$store.state.empleadores},previsionPersona:function(){return this.$store.state.previsionPersona},regiones:function(){return this.$store.state.regiones},comuna:function(){return this.$store.state.comuna}},components:{ProgressBar:o(319).a},methods:{prevStep:function(){this.$store.commit("SET_STEP_STJ",1),this.$router.push({path:"/tramites/5220/".concat(1)})},nextStep:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.guardar();case 2:if(!t.sent){t.next=6;break}3,e.$store.commit("SET_STEP_STJ",3),e.$router.push({path:"/tramites/5220/".concat(3)});case 6:case"end":return t.stop()}}),t)})))()},obtenerNombreRegion:function(e){if(this.regiones){var t=this.regiones.find((function(t){return t.id===e}));return t?t.nombre:""}return""},formatRut:function(e){for(var t="string"==typeof e?e.replace(/[^0-9kK]+/g,"").toUpperCase():"",o=t.slice(-4,-1)+"-"+t.substr(t.length-1),i=4;i<t.length;i+=3)o=t.slice(-3-i,-i)+"."+o;return o},formatFecha:function(e){var t=new Date(1e3*e),o=t.getFullYear(),r=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1;return t.getDate()+1+"-"+r+"-"+o},guardar:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,r,n,l,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e.datosPersona.rut.split("-"),r=[],n=c(e.datosEmpleadores);try{for(n.s();!(l=n.n()).done;)d=l.value,m=d.rut.split("-"),r.push({runSE:Number(m[0]),dvRunSE:m[1],razonSocialSE:d.nombre,emailSE:d.correo,telefonoSE:d.telefono,direccion:d.direccion})}catch(e){n.e(e)}finally{n.f()}return e.payload={run:Number(o[0]),dvRun:o[1],nombre:e.datosPersona.nombres,app:e.datosPersona.apellidoPaterno,apm:e.datosPersona.apellidoMaterno,fechaNacimiento:e.datosPersona.fechaNac,telefono:e.datosPersona.telefono,email:e.datosPersona.correo,direccion:e.datosPersona.direccion,afp:Number(e.previsionPersona.afp.id),salud:Number(e.previsionPersona.salud.id),mutual:Number(e.previsionPersona.mutual.id),empleador:r},console.log("payload",e.payload),e.$store.commit("SET_RESUMEN_SOLICITUD",{estadoSolicitud:1,idSolicitud:123456,fechaIngreso:1602633600,fechaResolucion:1606176e3}),console.log("Resumen Solicitud",e.$store.state.resumenSolicitud),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))()},error_sesion:function(){var e=this;this.$buefy.notification.open({duration:4e3,message:"Sesion expirada, redirigiendo a pantalla de login",position:"is-bottom-right",type:"is-danger",hasIcon:!0}).$on("close",(function(){e.$store.dispatch("logout"),window.location.reload(!0)}))},error_response:function(e){this.$buefy.notification.open({duration:4e3,message:"".concat(e),position:"is-bottom-right",type:"is-danger",hasIcon:!0}).$on("close",(function(){}))}}},m=o(9),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("div",{staticClass:"container form-cha"},[o("header",[o("h4",[e._v("\n        "+e._s(e.iConfig.proveedor_servicio)+"\n        "),o("a",{staticClass:"link",attrs:{href:"https://www.chileatiende.gob.cl/instituciones/AL005",title:"Institución asociada"}},[e._v("\n          "+e._s(e.iConfig.nombre_proveedor_servicio)+"\n        ")])]),e._v(" "),o("h1",[e._v(e._s(e.iConfig.titulo))]),e._v(" "),o("Progress-bar",{attrs:{steps:3,active:2}})],1),e._v(" "),o("section",[o("header",[o("h2",[e._v(e._s(e.iConfig.subtitulo_h2))]),e._v(" "),o("p",[e._v("\n          "+e._s(e.iConfig.p)+"\n        ")])]),e._v(" "),o("b-collapse",{staticClass:"colap-barra",attrs:{animation:"slide","aria-id":"identificacionTrabajador"},scopedSlots:e._u([{key:"trigger",fn:function(t){return o("div",{staticClass:"colap-button",attrs:{role:"button","aria-controls":"identificacionTrabajador"}},[o("h2",{staticClass:"colap-header"},[e._v("\n            "+e._s(e.iConfig.subtitulo_h2_2)+"\n          ")]),e._v(" "),o("a",{staticClass:"card-header-icon"},[o("b-icon",{attrs:{icon:t.open?"menu-down":"menu-up"}})],1)])}}])},[e._v(" "),o("div",{staticClass:"colap-cont"},[o("div",{staticClass:"content"},[o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("RUN Trabajador")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.formatRut(e.datosPersona.rut)))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Nombres")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.nombres))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Apellido paterno")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.apellidoPaterno))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Apellido maternor")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.apellidoMaterno))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Fecha de nacimiento")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.formatFecha(e.datosPersona.fechaNac)))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Edad")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.edad))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Calle, camino o casilla")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.direccion.calle))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Número")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.direccion.numero))])])]),e._v(" "),null!==e.datosPersona.direccion.block&&""!==e.datosPersona.direccion.block?o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Block / Torre")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.direccion.block))])])]):e._e(),e._v(" "),null!==e.datosPersona.direccion.depto&&""!==e.datosPersona.direccion.depto?o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Departamento")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.direccion.depto))])])]):e._e(),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Población / Villa")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.direccion.poblacion))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Región")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.obtenerNombreRegion(e.datosPersona.direccion.regionId)))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Comuna")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.comuna))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Ciudad / Localidad")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.direccion.ciudad))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Teléfono de contacto")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.telefono))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Correo electrónico trabajador")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.correo))])])])])])]),e._v(" "),o("b-collapse",{staticClass:"colap-barra",attrs:{animation:"slide","aria-id":"antedecentesLaborales",open:!1},scopedSlots:e._u([{key:"trigger",fn:function(t){return o("div",{staticClass:"colap-button",attrs:{role:"button","aria-controls":"antedecentesLaborales"}},[o("h2",{staticClass:"colap-header"},[e._v("\n            "+e._s(e.iConfig.subtitulo_h2_3)+"\n          ")]),e._v(" "),o("a",{staticClass:"card-header-icon"},[o("b-icon",{attrs:{icon:t.open?"menu-down":"menu-up"}})],1)])}}])},[e._v(" "),o("div",{staticClass:"colap-cont"},[o("div",{staticClass:"content"},[o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("AFP")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.previsionPersona.afp.nombre))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Regimen de salud")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.previsionPersona.salud.nombre))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Mutual")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.previsionPersona.mutual.nombre))])])])])])]),e._v(" "),o("b-collapse",{staticClass:"colap-barra",attrs:{animation:"slide","aria-id":"empleadorServicios",open:!1},scopedSlots:e._u([{key:"trigger",fn:function(t){return o("div",{staticClass:"colap-button",attrs:{role:"button","aria-controls":"empleadorServicios"}},[o("h2",{staticClass:"colap-header"},[e._v("\n            "+e._s(e.iConfig.subtitulo_h2_4)+"\n          ")]),e._v(" "),o("a",{staticClass:"card-header-icon"},[o("b-icon",{attrs:{icon:t.open?"menu-down":"menu-up"}})],1)])}}])},[e._v(" "),o("div",{staticClass:"colap-cont"},[o("div",{staticClass:"content"},e._l(e.datosEmpleadores,(function(t,i){return o("div",{key:i},[o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Razón Social")]),e._v(" "),o("span",[o("strong",[e._v(e._s(t.nombre))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("RUT")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.formatRut(t.rut)))])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Mail")]),e._v(" "),o("span",[o("strong",[e._v(e._s(t.correo))])])]),e._v(" "),i<e.datosEmpleadores.length-1?o("hr"):e._e()])})),0)])]),e._v(" "),o("br"),e._v(" "),o("div",{staticClass:"cont-btn"},[o("b-button",{attrs:{type:"is-primary"},on:{click:e.nextStep}},[e._v("Confirmar")]),e._v(" "),o("b-button",{attrs:{type:"is-default"},on:{click:e.prevStep}},[e._v("Volver")])],1)],1)])])}),[],!1,null,null,null);t.default=component.exports},407:function(e,t,o){"use strict";o.r(t);o(18);var r=o(2),n=o(536),c={data:function(){return{iConfig:n,isCardModalActive:!1,persona:{nombres:"",apellidoPaterno:"",apellidoMaterno:"",rut:"",fechaNac:0,edad:0,telefono:"",correo:"",direccion:{calle:"",numero:"",poblacion:"",block:"",depto:"",regionId:"",ciudad:"",comunaId:""}},personaOut:{},regiones:[{id:"",nombre:""}],comunas:[{id:"",nombre:""}],comuna:""}},computed:{},methods:{abrirModal:function(){this.persona=this.$store.getters.getPersona,this.personaOut=JSON.parse(JSON.stringify(this.persona)),this.regiones=this.$store.state.regiones,this.buscarComuna(this.persona.direccion.regionId),this.isCardModalActive=!0},updatePersona:function(e,t,o){"regionId"===t&&(this.buscarComuna(o),this.comuna=""),t?this.personaOut[e][t]=o:this.personaOut[e]=o},validateInput:function(e){var t=(e=e||window.event).which?e.which:e.keyCode;return!(t>31&&(t<48||t>57)&&46!==t&&219!==t&&221!==t)},modificar:function(){this.$store.commit("SET_PERSONA",this.personaOut),this.isCardModalActive=!1},buscarComuna:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return"/mocks/5220/obtenerComunas/",o.next=3,t.$axios({url:"/mocks/5220/obtenerComunas/"+e+".json",method:"GET"}).then((function(e){if("200"==e.status){if("No token"!=e.data)return e.data;t.error_sesion()}})).catch((function(e){return e.response&&(console.log(e.response),403==e.response.status?t.error_sesion():t.error_response("comunas de la región")),null}));case 3:t.comunas=o.sent,t.comuna=t.persona.direccion.comunaId;case 5:case"end":return o.stop()}}),o)})))()},error_sesion:function(){var e=this;this.$buefy.notification.open({duration:4e3,message:"Sesion expirada, redirigiendo a pantalla de login",position:"is-bottom-right",type:"is-danger",hasIcon:!0}).$on("close",(function(){e.$store.dispatch("logout"),window.location.reload(!0)}))},error_response:function(e){this.$buefy.notification.open({duration:4e3,message:"Error al cargar ".concat(e),position:"is-bottom-right",type:"is-danger",hasIcon:!0}).$on("close",(function(){}))}}},l=o(9),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("div",{staticClass:"form-cha"},[o("section",{staticClass:"modal-form"},[o("div",{staticClass:"cont-btn"},[o("button",{staticClass:" btn btn-default btn-sm",on:{click:function(t){return e.abrirModal()}}},[e._v("\n          "+e._s(this.iConfig.boton)+"\n        ")])]),e._v(" "),o("b-modal",{attrs:{active:e.isCardModalActive,scroll:"keep","can-cancel":!1},on:{"update:active":function(t){e.isCardModalActive=t}}},[o("form",{staticClass:"form-cha",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.modificar()}}},[o("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[o("header",{staticClass:"modal-card-head columns"},[o("table",{staticClass:"modal-header-table"},[o("tr",{staticClass:"tr-btn"},[o("td",[o("h3",{staticClass:"modal-card-title"},[e._v("\n                      "+e._s(this.iConfig.titulo)+" "),o("br")])]),e._v(" "),o("td",[o("button",{staticClass:"link btn-icon btn-cerrar",attrs:{type:"button"},on:{click:function(t){e.isCardModalActive=!1}}},[e._v("\n                      Cerrar\n                      "),o("span",{staticClass:"icon"},[o("i",{staticClass:"oi oi-x icon-btn"})])])])])])]),e._v(" "),o("section",{staticClass:"modal-card-body"},[o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Calle, camino o casilla*"}},[o("b-input",{attrs:{type:"text",value:e.persona.direccion.calle,placeholder:"",required:""},on:{input:function(t){return e.updatePersona("direccion","calle",t)}}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Número*"}},[o("b-input",{attrs:{type:"text",value:e.persona.direccion.numero,placeholder:"",required:""},on:{input:function(t){return e.updatePersona("direccion","numero",t)}}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Block / Torre"}},[o("b-input",{attrs:{type:"text",value:e.persona.direccion.block,placeholder:""},on:{input:function(t){return e.updatePersona("direccion","block",t)}}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Departamento"}},[o("b-input",{attrs:{type:"text",value:e.persona.direccion.depto,placeholder:""},on:{input:function(t){return e.updatePersona("direccion","depto",t)}}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Población / Villa*"}},[o("b-input",{attrs:{type:"text",value:e.persona.direccion.poblacion,placeholder:"",required:""},on:{input:function(t){return e.updatePersona("direccion","poblacion",t)}}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Región*"}},[o("b-select",{attrs:{value:e.persona.direccion.regionId,required:""},on:{input:function(t){return e.updatePersona("direccion","regionId",t)}}},[o("option",{attrs:{value:"",disabled:""}},[e._v("Seleccione Región")]),e._v(" "),e._l(e.regiones,(function(t){return o("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.nombre))])}))],2)],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Ciudad / Localidad*"}},[o("b-input",{attrs:{type:"text",value:e.persona.direccion.ciudad,placeholder:"",required:""},on:{input:function(t){return e.updatePersona("direccion","ciudad",t)}}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Comuna*"}},[o("b-select",{attrs:{value:e.comuna,required:""},on:{input:function(t){return e.updatePersona("direccion","comunaId",t)}},model:{value:e.comuna,callback:function(t){e.comuna=t},expression:"comuna"}},[o("option",{attrs:{value:""}},[e._v("Seleccione Comuna")]),e._v(" "),e._l(e.comunas,(function(t){return o("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.nombre))])}))],2)],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Teléfono de contacto*"}},[o("b-input",{attrs:{type:"text",value:e.persona.telefono,placeholder:"",required:""},on:{keyup:function(t){return e.validateInput(t)},input:function(t){return e.updatePersona("telefono",null,t)}}})],1),e._v(" "),o("span",{staticClass:"input-info"},[e._v("Ejemplos: Móvil: [ 9 ] 123 4567 / Fijo: [52] 123 4567")])],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Corréo electrónico trabajador*"}},[o("b-input",{attrs:{type:"email",value:e.persona.correo,placeholder:"",required:""},on:{input:function(t){return e.updatePersona("correo",null,t)}}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("div",{staticClass:"msg-dialog"},[e._v("\n                  "+e._s(this.iConfig.info_correo)+"\n                ")])]),e._v(" "),o("span",[e._v(e._s(this.iConfig.lbl_restriccion))]),e._v(" "),o("br")]),e._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"btn btn-primary is-primary",attrs:{type:"submit"}},[e._v("Guardar")]),e._v(" "),o("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){e.isCardModalActive=!1}}},[e._v("\n                Cancelar\n              ")])])])])])],1)])])}),[],!1,null,null,null);t.default=component.exports},408:function(e,t,o){"use strict";o.r(t);o(157),o(156),o(351),o(81),o(18);var r=o(2),n=o(1),c=o(348),l=o(349),d=o(537);n.a.use(c.b),n.a.filter("rutFilter",l.rutFilter),n.a.directive("rut",l.rutInputDirective);var m={data:function(){return{iConfig:d,nuevo:!1,comunas:[{id:"",nombre:""}],empleadorOut:{nombre:null,rut:null,telefono:null,correo:null,rutAfp:null,direccion:{calle:null,numero:null,oficina:null,regionId:"",ciudad:null,comunaId:""}}}},computed:{modalActive:function(){return this.$store.state.modalEmpleadorActive&&(this.empleadorOut=JSON.parse(JSON.stringify(this.$store.state.empleador))),this.$store.state.modalEmpleadorActive},empleador:function(){var e=this.$store.state.empleador;return e.direccion.regionId&&(this.buscarComuna(e.direccion.regionId),this.nuevo=!1),e},regiones:function(){return this.$store.state.regiones},habilitarAgregar:function(){return this.$store.state.empleadores.length>1}},created:function(){c.a.extend("rut",l.rutValidator)},methods:{modalInit:function(){this.nuevo=!0,this.$store.commit("SET_EMPLEADOR",{nombre:null,rut:null,telefono:null,correo:null,rutAfp:null,direccion:{calle:null,numero:null,oficina:null,regionId:"",ciudad:null,comunaId:""}}),this.$store.commit("CHANGE_MODAL_EMPLEADOR_ACTIVE",!0)},updateEmpleador:function(e,t,o){"regionId"===t&&(this.buscarComuna(o),this.empleadorOut.direccion.comunaId=""),t?this.empleadorOut[e][t]=o:this.empleadorOut[e]=o},guardar:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,r,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.$store.state.empleadores,r=JSON.parse(JSON.stringify(e.empleadorOut)),n=r.rut.replace(/\./g,""),r.rut=n,!e.nuevo){t.next=20;break}if(!o.find((function(e){return e.rut===n}))){t.next=10;break}e.error_response(e.iConfig.error_empleador_duplicado),t.next=18;break;case 10:return t.next=12,e.ingresarEmpresa(r);case 12:if(!t.sent){t.next=17;break}e.$store.commit("AGG_EMPLEADOR",r),e.$store.commit("CHANGE_MODAL_EMPLEADOR_ACTIVE",!1),t.next=18;break;case 17:e.error_response(e.iConfig.error_ingreso_empleador);case 18:t.next=29;break;case 20:return t.next=22,e.ingresarEmpresa(r);case 22:if(!t.sent){t.next=28;break}c=o.map((function(e){return e.rut})).indexOf(n),e.$store.commit("UPD_EMPLEADOR",{index:c,empleador:r}),e.$store.commit("CHANGE_MODAL_EMPLEADOR_ACTIVE",!1),t.next=29;break;case 28:e.error_response(e.iConfig.error_modificacion_empleador);case 29:case"end":return t.stop()}}),t)})))()},ingresarEmpresa:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.rut.split("-"),r={razonSocial:e.nombre,rut:Number(o[0]),dv:o[1],telefono:e.telefono,email:e.correo,direccion:e.direccion},console.log("PASO",r),t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})))()},buscarComuna:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return"/mocks/5220/obtenerComunas/",o.next=3,t.$axios({url:"/mocks/5220/obtenerComunas/"+e+".json",method:"GET"}).then((function(e){if("200"==e.status){if("No token"!=e.data)return e.data;t.error_sesion()}})).catch((function(e){return e.response&&(console.log(e.response),403==e.response.status?t.error_sesion():t.error_response("Error al cargar comunas de la región")),null}));case 3:t.comunas=o.sent;case 4:case"end":return o.stop()}}),o)})))()},error_sesion:function(){var e=this;this.$buefy.notification.open({duration:4e3,message:"Sesion expirada, redirigiendo a pantalla de login",position:"is-bottom-right",type:"is-danger",hasIcon:!0}).$on("close",(function(){e.$store.dispatch("logout"),window.location.reload(!0)}))},error_response:function(e){this.$buefy.notification.open({duration:4e3,message:"".concat(e),position:"is-bottom-right",type:"is-danger",hasIcon:!0}).$on("close",(function(){}))},formatRut:function(){var e="string"==typeof this.empleadorOut.rut?this.empleadorOut.rut.replace(/[^0-9kK]+/g,"").toUpperCase():"";if(e.length<=1)return!1;for(var t=e.slice(-4,-1)+"-"+e.substr(e.length-1),i=4;i<e.length;i+=3)t=e.slice(-3-i,-i)+"."+t;this.empleadorOut.rut=t;var o=this.empleadorOut.rut;if("string"!=typeof o)return!1;o="string"==typeof this.empleadorOut.rut?this.empleadorOut.rut.replace(/[^0-9kK]+/g,"").toUpperCase():"";for(var r=parseInt(o.slice(0,-1),10),n=0,s=1;r>0;)s=(s+r%10*(9-n++%6))%11,r=Math.floor(r/10);(s>0?String(s-1):"K")===o.slice(-1)?this.errores=!1:this.errores=!0},buscarEmpresa:function(){var e=this;if(this.empleadorOut.rut){var t=this.empleadorOut.rut.split("-")[0].replace(/\./g,"");this.$axios({url:"/mocks/5220/consultarEmpresa/"+t+".json",method:"GET"}).then(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(o){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("200"!=o.status){t.next=13;break}if("No token"!=o.data){t.next=5;break}e.error_sesion(),t.next=13;break;case 5:return r=o.data,t.next=8,e.buscarComuna(r.direccion.regionId);case 8:e.empleadorOut.rut=r.run+"-"+r.runDV,e.empleadorOut.nombre=r.razonSocial,e.empleadorOut.telefono=r.preFono+" "+r.fono,e.empleadorOut.correo=r.email,e.empleadorOut.direccion=r.direccion;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){t.response&&(console.log(t.response),403==t.response.status?e.error_sesion():(e.error_response("Error al cargar datos de la empresa"),e.$store.commit("CHANGE_MODAL_EMPLEADOR_ACTIVE",!1)))}))}}}},v=o(9),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("div",{staticClass:"container form-cha"},[o("section",{staticClass:"modal-form"},[o("button",{staticClass:"link btn-icon",attrs:{href:"#","itle:":"",disabled:e.habilitarAgregar||5===e.$store.state.resumenSolicitud.codRes},on:{click:e.modalInit}},[e._m(0),e._v(" "),o("span",[e._v(e._s(this.iConfig.boton))])]),e._v(" "),o("b-modal",{attrs:{active:e.modalActive,scroll:"keep","can-cancel":!1},on:{"update:active":function(t){e.modalActive=t}}},[o("form",{on:{submit:function(t){return t.preventDefault(),e.guardar()}}},[o("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[o("header",{staticClass:"modal-card-head columns"},[o("table",{staticClass:"modal-header-table"},[o("tr",{staticClass:"tr-btn"},[o("td",[o("h3",{staticClass:"modal-card-title"},[e._v(e._s(this.nuevo?this.iConfig.titulo_agregar:this.iConfig.titulo_editar)),o("br")])]),e._v(" "),o("td",[o("button",{staticClass:"link btn-icon btn-cerrar",attrs:{type:"button"},on:{click:function(t){return e.$store.commit("CHANGE_MODAL_EMPLEADOR_ACTIVE",!1)}}},[e._v("Cerrar "),o("span",{staticClass:"icon"},[o("i",{staticClass:"oi oi-x icon-btn"})])])])])])]),e._v(" "),o("section",{staticClass:"modal-card-body"},[o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"RUT Empresa*",type:{"is-danger":e.errors.has("rut")},message:{"Ingrese un RUT válido":e.errors.has("rut")}}},[o("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"rut",expression:"'rut'"}],attrs:{value:e.empleador.rut,required:"",id:"rut",name:"rut",keyup:e.formatRut(),disabled:e.empleadorOut.nombre},on:{input:function(t){return e.updateEmpleador("rut",null,t)},blur:function(t){return e.buscarEmpresa()}},model:{value:e.empleadorOut.rut,callback:function(t){e.$set(e.empleadorOut,"rut",t)},expression:"empleadorOut.rut"}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Nombre / Razón social*"}},[o("b-input",{attrs:{value:e.empleador.nombre,disabled:e.empleadorOut.nombre},on:{input:function(t){return e.updateEmpleador("nombre",null,t)}},model:{value:e.empleadorOut.nombre,callback:function(t){e.$set(e.empleadorOut,"nombre",t)},expression:"empleadorOut.nombre"}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Calle, camino o casilla*"}},[o("b-input",{attrs:{value:e.empleador.direccion.calle,required:""},on:{input:function(t){return e.updateEmpleador("direccion","calle",t)}},model:{value:e.empleadorOut.direccion.calle,callback:function(t){e.$set(e.empleadorOut.direccion,"calle",t)},expression:"empleadorOut.direccion.calle"}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Número*"}},[o("b-input",{attrs:{value:e.empleador.direccion.numero,required:""},on:{input:function(t){return e.updateEmpleador("direccion","numero",t)}},model:{value:e.empleadorOut.direccion.numero,callback:function(t){e.$set(e.empleadorOut.direccion,"numero",t)},expression:"empleadorOut.direccion.numero"}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Oficina*"}},[o("b-input",{attrs:{value:e.empleador.direccion.oficina,required:""},on:{input:function(t){return e.updateEmpleador("direccion","oficina",t)}},model:{value:e.empleadorOut.direccion.oficina,callback:function(t){e.$set(e.empleadorOut.direccion,"oficina",t)},expression:"empleadorOut.direccion.oficina"}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Ciudad*"}},[o("b-input",{attrs:{value:e.empleador.direccion.ciudad,required:""},on:{input:function(t){return e.updateEmpleador("direccion","ciudad",t)}},model:{value:e.empleadorOut.direccion.ciudad,callback:function(t){e.$set(e.empleadorOut.direccion,"ciudad",t)},expression:"empleadorOut.direccion.ciudad"}})],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Región*"}},[o("b-select",{attrs:{placeholder:"",value:e.empleador.direccion.regionId,required:""},on:{input:function(t){return e.updateEmpleador("direccion","regionId",t)}},model:{value:e.empleadorOut.direccion.regionId,callback:function(t){e.$set(e.empleadorOut.direccion,"regionId",t)},expression:"empleadorOut.direccion.regionId"}},[o("option",{attrs:{value:"",disabled:""}},[e._v("Seleccione Región")]),e._v(" "),e._l(e.regiones,(function(t){return o("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.nombre))])}))],2)],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Comuna*"}},[o("b-select",{attrs:{placeholder:"",value:e.empleador.direccion.comunaId,required:""},on:{input:function(t){return e.updateEmpleador("direccion","comunaId",t)}},model:{value:e.empleadorOut.direccion.comunaId,callback:function(t){e.$set(e.empleadorOut.direccion,"comunaId",t)},expression:"empleadorOut.direccion.comunaId"}},[o("option",{attrs:{value:"",disabled:""}},[e._v("Seleccione Comuna")]),e._v(" "),e._l(e.comunas,(function(t){return o("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.nombre))])}))],2)],1)],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Teléfono de contacto*"}},[o("b-input",{attrs:{value:e.empleador.telefono,required:""},on:{input:function(t){return e.updateEmpleador("telefono",null,t)}},model:{value:e.empleadorOut.telefono,callback:function(t){e.$set(e.empleadorOut,"telefono",t)},expression:"empleadorOut.telefono"}})],1),e._v(" "),o("span",{staticClass:"input-info"},[e._v(e._s(this.iConfig.ejemplo_mov))])],1),e._v(" "),o("div",{staticClass:"cont-gr"},[o("b-field",{attrs:{label:"Corréo electrónico*"}},[o("b-input",{attrs:{type:"email",value:e.empleador.correo,placeholder:"",required:""},on:{input:function(t){return e.updateEmpleador("correo",null,t)}},model:{value:e.empleadorOut.correo,callback:function(t){e.$set(e.empleadorOut,"correo",t)},expression:"empleadorOut.correo"}})],1)],1),e._v(" "),o("span",[e._v(e._s(this.iConfig.lbl_restriccion))]),e._v(" "),o("br"),o("br")]),e._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.errors.has("rut")}},[e._v("Guardar")]),e._v(" "),o("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return e.$store.commit("CHANGE_MODAL_EMPLEADOR_ACTIVE",!1)}}},[e._v("Cancelar")])])])])])],1)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"icon"},[t("i",{staticClass:"oi oi-plus icon-btn"})])}],!1,null,null,null);t.default=component.exports},409:function(e,t,o){"use strict";o.r(t);o(22),o(36),o(21),o(38),o(37),o(29),o(27),o(28),o(14),o(81),o(351),o(18);var r=o(2),n=o(404),c=o(407),l=o(408),d=o(410),m=o(319);function v(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){l=!0,n=e},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw n}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}var _={name:"StepOne",data:function(){return{iConfig:n,regiones:[],comunas:[],prevision:{listaAfp:null,listaMutual:null,listaSalud:null},pMutual:"",pSalud:"",pAfp:"",incompatibleSIS:!1,suspencionSubsidio:!1}},beforeCreate:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="/mocks/5220/obtenerRegiones.json",r=0,t.next=4,e.$axios({url:o,method:"GET"}).then((function(t){if("200"==t.status){if("No token"!=t.data)return e.$store.commit("SET_REGIONES",t.data),t.data;e.error_sesion()}})).catch((function(t){return t.response&&(console.log(t.response),403==t.response.status?e.error_sesion():e.error_response("Error al cargar regiones")),null}));case 4:if(e.regiones=t.sent,n=window.localStorage.getItem("userRut"),window.localStorage.getItem("userDvRut"),""!==e.datosPersona.nombres){t.next=13;break}return o="/mocks/5220/obtenerDatosPersona/",t.next=11,e.$axios({url:o+n+".json",method:"GET"}).then((function(t){"200"==t.status&&("No token"==t.data?e.error_sesion():(r=t.data.direccion.regionId,e.$store.commit("SET_PERSONA",t.data)))})).catch((function(t){t.response&&(console.log(t.response),403==t.response.status?e.error_sesion():e.error_response("Error al cargar datos de la persona"))}));case 11:t.next=14;break;case 13:r=e.datosPersona.direccion.regionId;case 14:if(0!==e.$store.state.empleadores.length){t.next=20;break}return o="/mocks/5220/obtenerDatosEmpleador/",t.next=18,e.$axios({url:o+n+".json",method:"GET"}).then((function(t){"200"==t.status&&("No token"==t.data?e.error_sesion():(e.$store.commit("SET_EMPLEADORES",t.data),e.pAfp=t.data[0].rutAfp))})).catch((function(t){t.response&&(console.log(t.response),403==t.response.status?e.error_sesion():e.error_response("Error al cargar empleadores asociados a la persona"))}));case 18:t.next=23;break;case 20:e.pAfp=e.previsionPersona.afp.id,e.pSalud=e.previsionPersona.salud.id,e.pMutual=e.previsionPersona.mutual.id;case 23:if(""!==e.previsionPersona.salud.id||5!==e.$store.state.resumenSolicitud.codRes){t.next=27;break}return o="/mocks/5220/consultarSolicitud/",t.next=27,e.$axios({url:o+e.$store.state.resumenSolicitud.idSolicitud+".json",method:"GET"}).then((function(t){"200"==t.status&&("No token"==t.data?e.error_sesion():(e.pAfp=t.data.afpTrabajador,e.pSalud=t.data.regSaludTrabajador,e.pMutual=t.data.mutualTrabajador))})).catch((function(t){t.response&&(console.log(t.response),403==t.response.status?e.error_sesion():e.error_response("Error al cargar información de la solicitud"))}));case 27:return o="/mocks/5220/obtenerComunas/",t.next=30,e.$axios({url:o+r+".json",method:"GET"}).then((function(t){if("200"==t.status){if("No token"!=t.data)return t.data;e.error_sesion()}})).catch((function(t){return t.response&&(console.log(t.response),403==t.response.status?e.error_sesion():e.error_response("Error al cargar comunas de la región")),null}));case 30:return e.comunas=t.sent,o="/mocks/5220/obtenerDatosPrev.json",t.next=34,e.$axios({url:o,method:"GET"}).then((function(t){if("200"==t.status){if("No token"!=t.data)return t.data;e.error_sesion()}})).catch((function(t){return t.response&&(console.log(t.response),403==t.response.status?e.error_sesion():e.error_response("Error al cargar datos previsionales")),null}));case 34:e.prevision=t.sent;case 35:case"end":return t.stop()}}),t)})))()},computed:{datosPersona:function(){return this.$store.state.persona},previsionPersona:function(){return this.$store.state.previsionPersona}},components:{ModalDatosContacto:c.default,ModalDatosEmpleador:l.default,TablaEmpleadores:d.default,ProgressBar:m.a},methods:{nextStep:function(){var e=this,t=[];if(""!==this.datosPersona.direccion.calle&&null!==this.datosPersona.direccion.calle&&""!==this.datosPersona.direccion.numero&&null!==this.datosPersona.direccion.numero&&""!==this.datosPersona.direccion.poblacion&&null!==this.datosPersona.direccion.poblacion&&""!==this.datosPersona.direccion.regionId&&null!==this.datosPersona.direccion.regionId&&""!==this.datosPersona.direccion.ciudad&&null!==this.datosPersona.direccion.ciudad&&""!==this.datosPersona.direccion.comunaId&&null!==this.datosPersona.direccion.comunaId&&""!==this.datosPersona.direccion.telefono&&null!==this.datosPersona.direccion.telefono&&""!==this.datosPersona.direccion.correo&&null!==this.datosPersona.direccion.correo||t.push(this.iConfig.msg_error_datos_contacto),""===this.pAfp?t.push(this.iConfig.msg_error_afp):this.$store.commit("SET_PREVISION",{tipo:"afp",id:this.pAfp,nombre:this.prevision.listaAfp.find((function(t){return t.rutAfp===e.pAfp})).descAfp}),""===this.pSalud?t.push(this.iConfig.msg_error_salud):this.$store.commit("SET_PREVISION",{tipo:"salud",id:this.pSalud,nombre:this.prevision.listaSalud.find((function(t){return t.iSalud===e.pSalud})).descSalud}),""===this.pMutual?t.push(this.iConfig.msg_error_mutual):this.$store.commit("SET_PREVISION",{tipo:"mutual",id:this.pMutual,nombre:this.prevision.listaMutual.find((function(t){return t.cCaja===e.pMutual})).descCaja}),this.$store.state.empleadores.length<1&&t.push(this.iConfig.msg_error_empleadores),this.incompatibleSIS&&this.suspencionSubsidio||t.push(this.iConfig.msg_toma_conocimiento),t.length>0){var o,r=v(t);try{for(r.s();!(o=r.n()).done;){var n=o.value;this.error_response(n)}}catch(e){r.e(e)}finally{r.f()}}else{this.$store.commit("SET_COMUNA",this.obtenerNombreComuna(this.datosPersona.direccion.comunaId)),this.$store.commit("SET_STEP_STJ",2),this.$router.push({path:"/tramites/5220/".concat(2)})}},error_sesion:function(){var e=this;this.$buefy.notification.open({duration:4e3,message:"Sesion expirada, redirigiendo a pantalla de login",position:"is-bottom-right",type:"is-danger",hasIcon:!0}).$on("close",(function(){e.$store.dispatch("logout"),window.location.reload(!0)}))},error_response:function(e){this.$buefy.notification.open({duration:4e3,message:"".concat(e),position:"is-bottom-right",type:"is-danger",hasIcon:!0}).$on("close",(function(){}))},formatRut:function(e){for(var t="string"==typeof e?e.replace(/[^0-9kK]+/g,"").toUpperCase():"",o=t.slice(-4,-1)+"-"+t.substr(t.length-1),i=4;i<t.length;i+=3)o=t.slice(-3-i,-i)+"."+o;return o},formatFecha:function(e){var t=new Date(1e3*e),o=t.getFullYear(),r=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][t.getMonth()];return t.getDate()+1+" de "+r+" "+o},obtenerNombreRegion:function(e){if(this.regiones){var t=this.regiones.find((function(t){return t.id===e}));return t?t.nombre:""}return""},obtenerNombreComuna:function(e){if(this.comunas){var t=this.comunas.find((function(t){return t.id===e}));return t?t.nombre:""}return""}}},h=o(9),component=Object(h.a)(_,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("div",{staticClass:"container form-cha"},[o("header",[o("h4",[e._v("\n        "+e._s(this.iConfig.proveedor_servicio)+"\n        "),o("a",{staticClass:"link",attrs:{href:"https://www.chileatiende.gob.cl/instituciones/AL005",title:"Institución asociada"}},[e._v("\n          "+e._s(this.iConfig.nombre_proveedor_servicio)+"\n        ")])]),e._v(" "),o("h1",[e._v(e._s(this.iConfig.titulo))]),e._v(" "),o("Progress-bar",{attrs:{steps:3,active:1}})],1),e._v(" "),o("section",[o("header",[o("h2",[e._v(e._s(this.iConfig.Subtitulo_h2))])]),e._v(" "),o("div",{staticClass:"form-sector"},[o("header",[o("h2",[e._v(e._s(e.datosPersona.nombres+" "+e.datosPersona.apellidoPaterno+" "+e.datosPersona.apellidoMaterno))]),e._v(" "),o("h3",{staticClass:"rut"},[e._v(e._s(e.formatRut(e.datosPersona.rut)))])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Fecha de nacimiento")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.formatFecha(e.datosPersona.fechaNac))+", "+e._s(e.datosPersona.edad)+" años")])])]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Dirección")]),e._v(" "),null!==e.datosPersona.direccion.calle&&""!==e.datosPersona.direccion.calle?o("span",[o("strong",[e._v("\n              "+e._s(e.datosPersona.direccion.calle)+", \n              "+e._s(e.datosPersona.direccion.numero)+", \n              "+e._s(null!==e.datosPersona.direccion.block&&""!==e.datosPersona.direccion.block?"Block / Torreo "+e.datosPersona.direccion.block+",":"")+"\n              "+e._s(null!==e.datosPersona.direccion.depto&&""!==e.datosPersona.direccion.depto?"Departamento "+e.datosPersona.direccion.depto+",":"")+"\n              "+e._s(e.datosPersona.direccion.poblacion)+", \n              "+e._s(e.datosPersona.direccion.ciudad)+", \n              "+e._s(e.obtenerNombreComuna(e.datosPersona.direccion.comunaId))+", \n              "+e._s(e.obtenerNombreRegion(e.datosPersona.direccion.regionId))+".\n            ")])]):e._e()]),e._v(" "),o("div",{staticClass:"cont-gr span-gr"},[o("span",[e._v("Contacto")]),e._v(" "),o("span",[o("strong",[e._v(e._s(e.datosPersona.telefono))])]),e._v(" "),o("span",[o("a",{attrs:{href:"#"}},[e._v(e._s(e.datosPersona.correo))])])]),e._v(" "),o("ModalDatosContacto")],1),e._v(" "),o("div",{staticClass:"form-sector"},[o("header",[o("h3",[e._v(e._s(this.iConfig.subtitulo_h3_1))])]),e._v(" "),o("div",{staticClass:"cont-gr"},[o("label",{staticClass:"label",attrs:{for:"afp"}},[e._v("AFP*")]),e._v(" "),o("div",{staticClass:"control"},[o("div",{staticClass:"select"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.pAfp,expression:"pAfp"}],attrs:{id:"afp"},domProps:{value:this.previsionPersona.afp.id},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.pAfp=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"",disabled:""}},[e._v("Seleccione AFP")]),e._v(" "),e._l(e.prevision.listaAfp,(function(t){return o("option",{key:t.codAfp,domProps:{value:t.rutAfp}},[e._v(e._s(t.descAfp))])}))],2)])])]),e._v(" "),o("div",{staticClass:"cont-gr"},[o("label",{staticClass:"label",attrs:{for:"salud"}},[e._v("Seleccione Régimen de salud*")]),e._v(" "),o("div",{staticClass:"control"},[o("div",{staticClass:"select"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.pSalud,expression:"pSalud"}],attrs:{id:"salud"},domProps:{value:this.previsionPersona.salud.id},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.pSalud=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"",disabled:""}},[e._v("Seleccione Regimen de Salud")]),e._v(" "),e._l(e.prevision.listaMutual,(function(t){return o("option",{key:t.cCaja,domProps:{value:t.cCaja}},[e._v(e._s(t.descCaja))])}))],2)])])]),e._v(" "),o("div",{staticClass:"cont-gr"},[o("label",{staticClass:"label",attrs:{for:"mutual"}},[e._v("Mutual*")]),e._v(" "),o("div",{staticClass:"control"},[o("div",{staticClass:"select"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.pMutual,expression:"pMutual"}],attrs:{id:"mutual"},domProps:{value:this.previsionPersona.mutual.id},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.pMutual=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"",disabled:""}},[e._v("Seleccione Mutual")]),e._v(" "),e._l(e.prevision.listaSalud,(function(t){return o("option",{key:t.iSalud,domProps:{value:t.iSalud}},[e._v(e._s(t.descSalud))])}))],2)])])])]),e._v(" "),o("div",{staticClass:"form-sector"},[o("header",[o("h3",[e._v(e._s(this.iConfig.subtitulo_h3_2))])]),e._v(" "),o("TablaEmpleadores"),e._v(" "),o("ModalDatosEmpleador"),e._v(" "),o("div",{staticClass:"cont-gr"},[o("div",{staticClass:"field"},[o("b-checkbox",{attrs:{type:"is-info"},model:{value:e.incompatibleSIS,callback:function(t){e.incompatibleSIS=t},expression:"incompatibleSIS"}},[e._v("\n              "+e._s(this.iConfig.checkbox1_text)+"\n            ")])],1)]),e._v(" "),o("br"),e._v(" "),o("div",{staticClass:"cont-gr"},[o("div",{staticClass:"field"},[o("b-checkbox",{attrs:{type:"is-info"},model:{value:e.suspencionSubsidio,callback:function(t){e.suspencionSubsidio=t},expression:"suspencionSubsidio"}},[e._v("\n              "+e._s(this.iConfig.checkbox2_text)+"\n            ")])],1)])],1),e._v(" "),o("div",{staticClass:"cont-req"},[o("span",[e._v(e._s(this.iConfig.lbl_restriccion))])]),e._v(" "),o("div",{staticClass:"cont-btn"},[o("b-button",{attrs:{type:"is-primary"},on:{click:e.nextStep}},[e._v("Continuar")])],1)])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ModalDatosContacto:o(407).default,TablaEmpleadores:o(410).default,ModalDatosEmpleador:o(408).default})},410:function(e,t,o){"use strict";o.r(t);o(81);var r={data:function(){return{selected:this.empleadores?this.empleadores[1]:null,columns:[{field:"nombre",label:"Razón social"},{field:"rut",label:"RUN"},{field:"correo",label:"Email"},{field:"Opciones",label:"Opciones"}]}},computed:{empleadores:function(){return this.$store.state.empleadores}},methods:{formatRut:function(e){for(var t="string"==typeof e?e.replace(/[^0-9kK]+/g,"").toUpperCase():"",o=t.slice(-4,-1)+"-"+t.substr(t.length-1),i=4;i<t.length;i+=3)o=t.slice(-3-i,-i)+"."+o;return o},editarEmpleador:function(e){this.$store.commit("SET_EMPLEADOR",e),this.$store.commit("CHANGE_MODAL_EMPLEADOR_ACTIVE",!0)},eliminarEmpleador:function(e){var t=this;this.$buefy.dialog.confirm({title:"Eliminar empleador",message:"¿Esta seguro que desea <b>eliminar</b> este empleador?",confirmText:"Eliminar",type:"is-danger",hasIcon:!0,onConfirm:function(){t.$store.commit("DELETE_EMPLEADOR",e),t.$buefy.toast.open("Empleador eliminado")}})}}},n=o(9),component=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"container form-cha"},[o("b-tabs",{staticClass:"tabla-tabs"},[o("b-tab-item",{attrs:{label:"Table"}},[o("b-table",{attrs:{data:e.empleadores,columns:e.columns,selected:e.selected,focusable:""},on:{"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[o("b-table-column",{staticStyle:{"max-width":"200px"},attrs:{field:"nombre"}},[e._v("\n              "+e._s(t.row.nombre)+"\n            ")]),e._v(" "),o("b-table-column",{attrs:{field:"rut"}},[e._v("\n              "+e._s(e.formatRut(t.row.rut))+"\n            ")]),e._v(" "),o("b-table-column",{attrs:{field:"correo"}},[e._v("\n              "+e._s(t.row.correo)+"\n            ")]),e._v(" "),o("b-table-column",{attrs:{field:"Opciones"}},[o("a",{staticClass:"link",on:{click:function(o){return e.editarEmpleador(t.row)}}},[e._v("Editar")]),e._v(" |\n              "),5!==e.$store.state.resumenSolicitud.codRes?o("a",{staticClass:"link",on:{click:function(o){return e.eliminarEmpleador(t.row)}}},[e._v("Eliminar")]):e._e()])]}}])})],1),e._v(" "),o("b-tab-item",{attrs:{label:"Selected"}},[o("pre",[e._v(e._s(e.selected))])])],1)],1)}),[],!1,null,null,null);t.default=component.exports},536:function(e){e.exports=JSON.parse('{"boton":"Editar datos de contacto","titulo":"Editar datos de contacto","info_correo":"Este correo electrónico será el medio oficial de contacto de ChileAtiende con usted.","lbl_restriccion":"Los campos marcados con * son obligatorios"}')},537:function(e){e.exports=JSON.parse('{"boton":"Agregar empleador","titulo_agregar":"Agregar antecedentes del empleador","titulo_editar":"Editar antecedentes del empleador","lbl_restriccion":"Los campos marcados con * son obligatorios","ejemplo_mov":"Ejemplos: Móvil: [ 9 ] 123 4567 / Fijo: [52] 123 4567","error_empleador_duplicado":"El empleador que desea agregar ya existe en la lista de empleadores.","error_ingreso_empleador":"No fue posible guardar la información del empleador.","error_modificacion_empleador":"No fue posible modificar la información del empleador."}')},538:function(e){e.exports=JSON.parse('{"proveedor_servicio":"Servicio de información entregado por","nombre_proveedor_servicio":"Instituto de Previsión Social","titulo":"Solicitud Subsidio al Trabajador Joven - Cotización","subtitulo_h2":"Confirmar datos","p":"Estás apunto de enviar tu solicitud. Por favor verifica la exactitud de tus datos. Si todo está bien, dale al botón confirmar.","subtitulo_h2_2":"Identificación del trabajador","subtitulo_h2_3":"Antecedentes laborales y previsionales","subtitulo_h2_4":"Empleador para el cual presta servicios"}')},539:function(e){e.exports=JSON.parse('{"proveedor_servicio":"Servicio de información entregado por","nombre_proveedor_servicio":"Instituto de Previsión Social","titulo":"Solicitud Subsidio al Trabajador Joven - Cotización","subtitulo_h2":"Resumen de la solicitud","p":"Su solicitud será resuelta en un plazo máximo de 40 días. Le recomendamos revisar el estado de su solicitud en este mismo sitio web o llamar al call center del IPS al número","strong":"600-4400040","tipo_solicitud":"subsidio al Trabajador Joven - Cotización","estado_solicitud_3":"Resuelta Concedida","estado_solicitud_9":"Resuelta Rechazada","estado_solicitud_1y2":"En Tramite","url_ficha":"https://www.chileatiende.gob.cl/fichas/5220-subsidio-a-la-cotizacion-de-trabajadores-jovenes"}')},548:function(e,t,o){"use strict";o.r(t);o(18);var r=o(2),n=o(404),c=o(409),l=o(406),d=o(405),m={name:"UiKitFormStjStep",data:function(){return{iConfig:n,loading:!1,step1:!1,step2:!1,step3:!1}},head:function(){return{title:this.iConfig.titulo,meta:[{hid:"description",name:"description",content:this.iConfig.descripcion}]}},middleware:"auth",components:{Step1T5220:c.default,Step2T5220:l.default,Step3T5220:d.default},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,param;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=window.localStorage.getItem("userRut"),0===(param=parseInt(e.$route.params.num,10))&&o?(e.loading=!0,"/mocks/5220/validaCondicion/",e.$axios({url:"/mocks/5220/validaCondicion/"+o+".json",method:"GET"}).then((function(t){if(e.rutConsultado=e.rut,e.loading=!1,"200"==t.status)if("No token"==t.data)e.error_sesion();else switch(e.$store.commit("SET_RESUMEN_SOLICITUD",t.data),t.data.codRes){case 1:case 5:e.$store.commit("SET_STEP_STJ",1),e.$router.push({path:"/tramites/5220/1"});break;case 6:e.$store.commit("SET_STEP_STJ",3),e.$router.push({path:"/tramites/5220/3"});break;default:e.$router.push({path:"/tramites/5220"})}})).catch((function(t){t.response&&(console.log(t.response),e.loading=!1,404==t.response.status&&e.$router.push({path:"/tramites/5220"}),403==t.response.status&&e.error_sesion(),500==t.response.status&&e.$router.push({path:"/tramites/5220"}))}))):0!==param&&o?e.$store.state.stepStj!==param?e.$router.push({path:"/tramites/5220"}):(e.step1=1===param,e.step2=2===param,e.step3=3===param):e.$router.push({path:"/tramites/5220"});case 3:case"end":return t.stop()}}),t)})))()},methods:{error_sesion:function(){var e=this;this.$buefy.notification.open({duration:4e3,message:"Sesion expirada, redirigiendo a pantalla de login",position:"is-bottom-right",type:"is-danger",hasIcon:!0}).$on("close",(function(){e.$store.dispatch("logout"),window.location.reload(!0)}))}}},v=o(9),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("b-loading",{attrs:{"is-full-page":!0,active:e.loading,"can-cancel":!1},on:{"update:active":function(t){e.loading=t}}}),e._v(" "),e.step1?o("Step1T5220"):e._e(),e._v(" "),e.step2?o("Step2T5220"):e._e(),e._v(" "),e.step3?o("Step3T5220"):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Step1T5220:o(409).default,Step2T5220:o(406).default,Step3T5220:o(405).default})}}]);